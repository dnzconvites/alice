<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Alice</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box;margin:0;padding:0}
html,body{background:#000;font-family:sans-serif;overflow-x:hidden}

#capa{
position:fixed;inset:0;background:#000;
display:flex;align-items:center;justify-content:center;
z-index:20;transition:.3s;
}
#capa img{max-width:100%;max-height:100%;object-fit:contain}
#abrirConvite{position:absolute;inset:0;background:transparent;border:0}

.convite-main{
min-height:100vh;
display:flex;align-items:center;justify-content:center;
}

.convite-stage{
position:relative;
width:min(100vw,56.25vh);
height:min(100vh,177.78vw);
max-width:480px;
background:#000;
}

#container2-video{position:absolute;inset:0}
#video{width:100%;height:100%;object-fit:contain}

#botoesConvite{position:absolute;inset:0;pointer-events:none}
#botoesConvite a{
position:absolute;
width:20%;height:12%;
transform:translate(-50%,-50%);
pointer-events:auto;
}

#sugestoes{top:85%;left:83%}
#local{top:81%;left:19%}
#presenca{top:81%;left:52%}

.overlayConvite{
position:fixed;inset:0;
background:rgba(0,0,0,.85);
display:none;
align-items:center;justify-content:center;
z-index:10000;
}
.overlayConvite img{
max-width:90vw;
max-height:90vh;
}
.fecharOverlay{
position:absolute;top:10px;right:20px;
font-size:24px;background:#000;color:#fff;border:0
}
</style>
</head>

<body>

<div id="capa">
<img src="img/capa.png">
<button id="abrirConvite"></button>
</div>

<main class="convite-main">
<div class="convite-stage">

<div id="container2-video">
<video id="video" playsinline muted preload="metadata">
<source src="video/video.mp4" type="video/mp4">
</video>
</div>

<div id="botoesConvite">
<a id="presenca" href="https://wa.me5511989957305/" target="_blank"></a>
<a id="local" href="https://maps.app.goo.gl/Ek2dJgRp51VEyGMR9" target="_blank"></a>
<a id="sugestoes" href="sugestoes.png"></a>
</div>

</div>
</main>

<div id="overlayPix" class="overlayConvite">
<button class="fecharOverlay" data-close="#overlayPix">Ã—</button>
<img src="img/sugestoes.png">
</div>

<script>
document.addEventListener("DOMContentLoaded",()=>{

const capa=document.getElementById("capa");
const abrir=document.getElementById("abrirConvite");
const video=document.getElementById("video");

let musica=document.createElement("audio");
musica.src="audio/musica.mp3";
musica.loop=true;
musica.volume=0;
document.body.appendChild(musica);

async function iniciar(){
video.play().catch(()=>{});
musica.play().catch(()=>{});

let vol=0;
let fade=setInterval(()=>{
vol+=0.05;
musica.volume=Math.min(vol,0.8);
if(vol>=0.8)clearInterval(fade);
},180);
}

abrir.addEventListener("click",()=>{
capa.style.opacity=0;
setTimeout(()=>capa.style.display="none",200);
iniciar();
});

});
</script>

<script>
(function(){

const open=s=>document.querySelector(s).style.display='flex';
const close=s=>document.querySelector(s).style.display='none';

document.getElementById("sugestoes")
.addEventListener("click",e=>{
e.preventDefault();
open("#overlayPix");
});

document.addEventListener("click",e=>{
const btn=e.target.closest("[data-close]");
if(btn)close(btn.dataset.close);
});

})();
</script>

</body>
</html>
